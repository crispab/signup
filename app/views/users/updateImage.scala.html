@(user: User, errorMessage: Option[String] = None)(implicit loggedInUser: Option[User])

@import util.Section._
@import services.GravatarUrl

@page("Byt bild för " + user.firstName + " " + user.lastName, section = Users) {

@breadcrumb(Seq("Användare" -> routes.UsersSecured.list(),
                user.firstName + " " + user.lastName -> routes.Users.show(user.id.get)),
                "Byt bild")

<div class="row">
  <div class="col-md-5">
    <h2>Byt bild</h2>
  </div>
</div>

<div class="row">
  <div class="col-md-5">
  <div class="input-group">
    <img class="upload-thumb thumb-background80" src="@GravatarUrl.url(user, 80)" onerror='imgError(this);'/>
    <h3>Standardbild</h3>
    <p>Om du har registrerat dig på <a href="http://gravatar.com">gravatar.com</a> och kopplat en bild till din epostadress visas den bilden. </p>
    <p>Annars visas en anonym bild.</p>
    <form action="@routes.UsersSecured.resetImage(user.id.get)" method="POST">
      <button type="submit" class="btn btn-primary">Använd</button>
    </form>
  </div>
  </div>
</div>

<div class="row">
  <div class="col-md-5">
  <div class="input-group">
    <img class="upload-thumb" src='@routes.Assets.at("images/Images_icon.png")'/>
    <h3>Egen bild</h3>
    <p>Välj en bild på datorn och använd den som profilbild.</p>
    <p>Bilden kommer automatiskt att zoomas in på ansiktet, beskäras och skalas om.</p>
    <form action="@routes.UsersSecured.uploadImage(user.id.get)" method="POST" enctype="multipart/form-data">
      <div class='form-group'>
        <input type="file" accept="image/*" id="image" name="image" >
      </div>
      @if(errorMessage.isDefined) {
        <div class="alert alert-danger">
          <button type="button" class="close" data-dismiss="alert">×</button>
          @errorMessage.get
        </div>
      }
      <button type="submit" class="btn btn-primary">Använd</button>
    </form>
  </div>
  </div>
</div>

<div class="row">
  <div class="col-md-5">
    <p>
      <a href="@routes.Users.show(user.id.get)" class="btn btn-default"><span class="glyphicon glyphicon-ban-circle"></span> Avbryt</a>
    </p>
  </div>
</div>
}
